<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ColorCraz â€“ Sign Up</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght:400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;background:#0f0f1a;color:white;display:flex;align-items:center;justify-content:center;min-height:100vh;position:relative}
    body::before{content:'';position:absolute;inset:0;background:url('images/my.png') center/cover fixed;filter:blur(10px);z-index:-2}
    body::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(10,10,30,.96),rgba(20,20,60,.9));z-index:-1}
    .card{background:rgba(20,20,50,.7);backdrop-filter:blur(20px);padding:60px 50px;border-radius:28px;width:420px;text-align:center;border:1px solid rgba(110,110,255,.4);box-shadow:0 40px 100px rgba(0,0,0,.7)}
    .logo{font-size:48px;font-weight:800;background:linear-gradient(90deg,#6e6eff,#a29bfe);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:10px}
    input{width:100%;padding:18px 20px;margin:12px 0;background:rgba(40,40,80,.6);border:1px solid rgba(110,110,255,.4);border-radius:16px;color:white;font-size:16px}
    button#mainBtn{width:100%;padding:18px;background:#6e6eff;border:none;border-radius:16px;color:white;font-weight:700;font-size:19px;cursor:pointer;margin-top:25px}
    .switch{margin-top:35px;color:#ccc}
    .switch span{color:#6e6eff;cursor:pointer;text-decoration:underline}
  </style>
</head>
<body>
<div class="card">
  <div class="logo">ColorCraz</div>
  <h2>Create Your Account</h2>
  <div style="color:#888;margin:25px 0">or continue with email</div>
  <input type="email" id="email" placeholder="Email Address" required>
  <input type="password" id="password" placeholder="Password (6+ chars)" required>
  <button id="mainBtn">Sign Up Free</button>
  <div class="switch">Already have an account? <span onclick="location.href='auth.html'">Log In</span></div>
</div>

<script>
  const supabase = Supabase.createClient(
          'https://enjczoepifvolmqooccd.supabase.co',
          'sb_publishable_uEMVu8A5fHuDxuHqWC-4A_PceL8yGI'
  );

  document.getElementById('mainBtn').onclick = async () => {
    const email = document.getElementById('email').value.trim();
    const pass = document.getElementById('password').value;

    if (!email || pass.length < 6) {
      alert('Fill email and password (6+ chars)');
      return;
    }

    const btn = document.getElementById('mainBtn');
    btn.disabled = true;
    btn.textContent = 'Please wait...';

    const { data, error } = await supabase.auth.signUp({
      email: email,
      password: pass
    });

    if (error) {
      alert('ERROR: ' + error.message);
      btn.disabled = false;
      btn.textContent = 'Sign Up Free';
    } else {
      // SUCCESS!
      confetti({ particleCount: 300, spread: 100, origin: { y: 0.6 } });
      alert('SUCCESS! Welcome to ColorCraz ðŸŽ‰');
      setTimeout(() => {
        window.location.href = 'dashboard.html';
      }, 800);
    }
  };
</script>
</body>
</html>